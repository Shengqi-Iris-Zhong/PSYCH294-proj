---
title: "Untitled"
author: "Iris Zhong"
date: '2022-10-09'
output:
  word_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(googledrive)
library(data.table)
library(tidyverse)
library(psych)
library(knitr)
library(mosaic)
```

This dataset comes from a free online tutoring platform -- ASSISTments. It is called a "tutoring" system, because if students get a question wrong, they are provided with a small “tutoring” session where they must answer a few questions that break the problem down into steps. The students in this dataset were all middle school students. 

Data description: <https://sites.google.com/site/assistmentsdata/datasets/2012-13-school-data-with-affect?authuser=0>

Data codebook: <https://sites.google.com/site/assistmentsdata/an-explanation-on-how-to-interpret-our-data-sets?authuser=0>

Citation: Wang, Y., Heffernan, N, & Heffernan, C. (2015) Towards better affect detectors: effect of missing skills, class features and common wrong answers. Proceedings of the Fifth International Conference on Learning Analytics And Knowledge. pp 31-35.

Feng, M., Heffernan, N.T., & Koedinger, K.R. (2009). Addressing the assessment challenge in an Intelligent Tutoring System that tutors as it assesses. The Journal of User Modeling and User-Adapted Interaction.19, 243-266. (Based on CP15)

# Data loading

Load the data directly from google drive.

```{r}
drive_deauth() # avoid google authorization
temp <- tempfile(fileext = ".zip")
dl <- drive_download(
  as_id("1cU6Ft4R3hLqA7G1rIGArVfelSZvc6RxY"), path = temp, overwrite = TRUE)
out <- unzip(temp, exdir = tempdir())
data <- fread(out, sep = ",")
```

# Data codebook

Below is the direct quotation of the variable descriptions from the website.

+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Variable                          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+===================================+=====================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| problem_log_id                    | Unique ID of the logged actions. Problem_log is the table that the biggest in ASSISTments. About 10 millions problems were solved in 2012, so there are 10 million rows in the data base. For each problem, there might be a few attempts that a child made and a few hint requests. We call them actions. We don't store actions in their own table but if we did it would be bigger as every problem has at least one action (if its correct) and more if the student was incorrect. We store in the "actions" field of problem_log the actions with time stamps. |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| skill                             | Skill name associated with the problem (different skills are in different rows).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| problem_id                        | The ID of the problem.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| user_id                           | The ID of the student doing the problem.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| assignment_id                     | Two different assignments can have the same sequence id. Each assignment is specific to a single teacher/class.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| assistment_id                     | The ID of the ASSISTment. An ASSISTment consists of one or more problems.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| start_time                        | Timestamp when the problem starts.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| end_time                          | Timestamp when the problem ends.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| problem_type                      | choose_1: Multiple choice (radio buttons)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                   | algebra: Math evaluated string (text box)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                   | fill_in: Simple string-compared answer (text box)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                   | open_response: Records student answer, but their response is always marked correct                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                   | *more problem_type in the data: choose_n, rank*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| original                          | 1 = Main problem                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                   | 0 = Scaffolding problem                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| correct                           | 1 = Correct on first attempt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                   | decimal values are calculated as a partial credit based on the number of hints and attempts needed to solve (based on teacher setting)                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                   | 0 = student either saw the answer, exhausted partial credit from too many hints/attempts, or (based on teacher setting) answered incorrectly on the first attempt                                                                                                                                                                                                                                                                                                                                                                                                   |
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                   | When observed as a dependent variable, it is recommended that this value be converted to a binary variable using the formula: 1 = correct, \<1 = incorrect                                                                                                                                                                                                                                                                                                                                                                                                          |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| bottom_hint                       | Whether or not the student asks for all hints.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hint_count                        | Number of hints on this problem.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| actions                           | Every action on this problem.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| attempt_count                     | Number of student attempts on this problem.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ms_first_response                 | The time in milliseconds for the student's first response.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tutor_mode                        | tutor, test mode, pre-test, or post-test                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                   | *only tutor and test in the data*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sequence_id                       | The content id of the problem set. Different assignments that are assigned the same problem set will have the same sequence id. Again the terminology is confused as years ago when ASSISTments was starting we called problem sets sequences. But a problem set in our modern use of the term is really stored as a sequence. Most sequences are simple, but it's possible to build a problem set that is a hierarchical tree of problem sets.                                                                                                                     |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| student_class_id                  | The class ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| position                          | Assignment position on the class assignments page.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| type                              | This is the type of the head section of the problem set. Each problem set is usually one of the following three.                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                   | Linear - Student completes all problems in a predetermined order.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                   | Random - Student completes all problems, but each student is presented with the problems in a different random order.                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                   | Mastery - Random order, and student must "master" the problem set by getting a certain number of questions correct in a row before being able to continue. ASSISTments calls problem sets that have a head section that is of type mastery a "Skill Builder".                                                                                                                                                                                                                                                                                                       |
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                   | *more types in the data: ChooseCondition, NumericLimit, RandomIterate*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| base_sequence_id                  | This is to account for if a sequence has been copied. This will point to the original copy, or be the same as sequence_id if it hasn't been copied.                                                                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| skill_id                          | ID of the skill associated with the problem (different skills are in different rows).                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| teacher_id                        | The ID of the teacher who assigned the problem.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| school_id                         | The ID of the school where the problem was assigned.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| overlap_time                      | The time in milliseconds for the student's overlap time.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| template_id                       | The template ID of the ASSISTments. ASSISTments with the same template ID have similar questions.                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| answer_id                         | The answer ID for multi-choice questions.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| answer_text                       | The answer text for fill-in questions.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| first_action                      | The type of first action: attempt or ask for a hint.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| problemlog_id                     | Unique ID of the logged actions.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Average_confidence(FRUSTRATED)    | Predicted Frustration of student for the problem. Value close to "0" being less frustrated and close to "1" being more frustrated.                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Average_confidence(CONFUSED)      | Predicted Confusion of student for the problem. Value close to "0" being less confused and close to "1" being more confused.                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Average_confidence(CONCENTRATING) | Predicted Engaged Concentration of student for the problem. Value close to "0" being less concentrated and "1" being more concentrated.                                                                                                                                                                                                                                                                                                                                                                                                                             |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Average_confidence(BORED)         | Predicted Boredom of student for the problem. Value close to"0" being less bored and "1" being more bored.                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

# Data cleaning

The data is already in a tidy format. For this part, I'll only remove columns that I won't use, and rename a few variables.

```{r}
data <- data %>%
  dplyr::select(-c(actions, overlap_time, problemlogid, answer_id, answer_text)) %>%
  rename(frustrated_confidence = `Average_confidence(FRUSTRATED)`,
         confused_confidence = `Average_confidence(CONFUSED)`,
         concentrating_confidence = `Average_confidence(CONCENTRATING)`,
         bored_confidence = `Average_confidence(BORED)`)
```

# Data summary

Check the number of distinct values for each variable:

```{r check unique values}
data %>% summarize_all(n_distinct)
```

Check the summary statistics of the continuous variables:

```{r}
data %>%
  select(hint_count, attempt_count, 
         frustrated_confidence, confused_confidence, concentrating_confidence, bored_confidence) %>%
  describe()
```

Check the counts of categorical variables:

```{r}
count(data, correct)
count(data, problem_type)
count(data, original)
count(data, bottom_hint)
count(data, tutor_mode)
count(data, type)
count(data, first_action)
```
`bottom_hint` contains NA, and `first_action` contains three levels. Since these values are not clear enough, these two variables should probably be removed. 

In addition, almost all of the response data is binary (0 or 1). As suggested by the code book, recode all values in `correct` that are less than 1 to 0. 

```{r}
data <- data %>%
  dplyr::select(-c(bottom_hint, first_action)) %>%
  mutate(correct = ifelse(correct == 1, 1, 0))
```

To understand the time frame of the data: first, check the earliest and latest log in the data.

```{r}
min(data$start_time)
max(data$start_time)
```

The earliest start time is 2012-09-01, and the latest start time is 2013-08-31. 

The time distribution of the logs:

```{r}
ggplot(data, 
       aes(x=as.Date(start_time))) + 
  geom_bar() + 
  scale_x_date(date_breaks="1 month") + 
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1), 
        axis.title=element_text(size=12), axis.text=element_text(size=9), 
        aspect.ratio=1/2) +
  labs(title = 'Log counts over time', x = "Date", y = "Log count")
```

ASSISTments was used the most in May, the end of the school year. Its usage was low during the holidays (winter and summer vacations). There was a sizable variation of log counts within months. I suspect that days with very low usages are weekends, when fewer assignments were due.

Item response time distribution:

```{r}
data <- data %>%
  mutate(response_time = difftime(end_time, start_time, units = "secs"))
```

```{r}
ggplot(data, aes(x = as.numeric(response_time))) +
  geom_histogram(binwidth = 1) +
  xlim(0, 100) +
  labs(x = "Response time (secs)", y = "Response count",
       title = "Item response time distribution",
       subtitle = "Restrict response time range 0-100, faceted by problem type") +
  facet_wrap(~problem_type)

```

```{r}
favstats(data$response_time)

# restrict summary statistics to be 0 - 1000s
favstats(data[data$response_time > 0 & data$response_time < 1000,]$response_time)
```

Most items were answered within 1 minute. There were extreme outliers on both sides of the distribution. From the plots, the response time among problem types was not too different. 

# Data exploration

Some more data exploration. First question: how many students work on the same assignment/assistment?

```{r}
data %>% 
  group_by(assignment_id) %>% 
  summarize(n_student = uniqueN(user_id)) %>%
  ggplot(., aes(x = n_student)) +
  geom_histogram(binwidth = 5) +
  labs(title = "Number of students per assignment distribution",
       x = "Number of students",
       y = "Number of assignments")

data %>% 
  group_by(assignment_id) %>% 
  summarize(n_student = uniqueN(user_id)) %>%
  ggplot(., aes(x = n_student)) +
  geom_histogram(binwidth = 5) +
  xlim(1, 100) +
  ylim(0, 10000) + 
  labs(title = "Number of students per assignment distribution",
       subtitle = "Assignment tried by 1 or more than 100 students removed",
       x = "Number of students",
       y = "Number of assignments")

data %>% 
  group_by(assistment_id) %>% 
  summarize(n_student = uniqueN(user_id)) %>%
  ggplot(., aes(x = n_student)) +
  geom_histogram(binwidth = 5) +
  labs(title = "Number of students per assignment distribution",
       x = "Number of students",
       y = "Number of assignments")
```

Most assignments were only finished by one student, similarly with assistments. 

Second questions: how many students in a class?

```{r}
data %>%
  group_by(student_class_id) %>%
  summarize(n_student = uniqueN(user_id)) %>%
  describe()
```

On average, there were 24 students in a class. The median value was 14. 

Third question: How many users tried the same problem?

```{r}
data %>% 
  group_by(problem_id) %>% 
  summarize(n_student = uniqueN(user_id)) %>%
  describe()

data %>% 
  group_by(problem_id) %>% 
  summarize(n_student = uniqueN(user_id)) %>%
  ggplot(., aes(x = n_student)) +
  geom_histogram(binwidth = 5)  +
  labs(title = "Number of students per problem distribution",
       x = "Number of students",
       y = "Number of Problems")

data %>% 
  group_by(problem_id) %>% 
  summarize(n_student = uniqueN(user_id)) %>%
  ggplot(., aes(x = n_student)) +
  geom_histogram(binwidth = 1)  +
  xlim(0, 100) +
  labs(title = "Number of students per problem distribution",
       x = "Number of students",
       y = "Number of Problems")
```




Similarly, a majority of problems were only attempted by one student. 

Fourth question: how many assignments and how many problems did a student try?

```{r}
data %>% 
  group_by(user_id) %>% 
  summarize(assignment_id = uniqueN(assignment_id),
            n_problem = uniqueN(problem_id)) %>%
  describe()

```

On average, a student would finish 17 assignments and 126 problems. The median values were 6 and 48, respectively. 

Scaffold vs. original questions

```{r}
data %>% count(original, correct)
```


# Research question

Do students who regularly sought hints have a different growth trajectory than students who didn't like to use hints?    


write.csv(data, "processed_data.csv")
